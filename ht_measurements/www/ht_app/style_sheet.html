{% extends "templates/web.html" %}

{% block title %}{{ _("Styles") }}{% endblock %}

{% block page_content %}
<link rel="stylesheet" href="/assets/css/styles.css">
<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <h5 class="card-title text-center">{{ _("Styles") }}</h5>
        <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <span class="badge badge-dark badge-pill mr-2">1</span>
                    {{ _("Jacket") }}
                </div>
                <div>
                    <button class="btn btn-primary btn-sm mr-2 view-btn" data-type="jacket">{{ _("View") }}</button>
                    {% if jacket_completed %}
                        <span class="badge badge-success">✔</span>
                    {% endif %}
                </div>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <span class="badge badge-dark badge-pill mr-2">2</span>
                    {{ _("Shirt") }}
                </div>
                <div>
                    <button class="btn btn-primary btn-sm mr-2 view-btn" data-type="shirt">{{ _("View") }}</button>
                    {% if shirt_completed %}
                        <span class="badge badge-success">✔</span>
                    {% endif %}
                </div>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <span class="badge badge-dark badge-pill mr-2">3</span>
                    {{ _("Trouser") }}
                </div>
                <div>
                    <button class="btn btn-primary btn-sm mr-2 view-btn" data-type="trouser">{{ _("View") }}</button>
                    {% if trouser_completed %}
                        <span class="badge badge-success">✔</span>
                    {% endif %}
                </div>
            </li>
        </ul>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".view-btn").forEach(button => {
        button.addEventListener("click", function () {
            const type = this.getAttribute("data-type");
            const invoiceNumber = new URLSearchParams(window.location.search).get('invoice_number');
            const profile_name = new URLSearchParams(window.location.search).get('profile_id');
            window.location.href = `/ht_app/${type}_style?invoice_number=${invoiceNumber}&profile_id=${profile_name}`;
        });
    });
});
</script>
{% endblock %}
